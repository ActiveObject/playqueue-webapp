@import 'nib'
@import '_config'

margin = 0
queue-panel-width = 450px
audio-control-size = 40px

.queue
  position: absolute
  width: queue-panel-width
  top: 0
  right: -(@width + margin)
  bottom: 0
  background-color: #EEF1F3
  z-index: 10000
  transition: right 0.3s ease-in-out
  color: #555

  .title
    font-size: 1.2em
    overflow: hidden
    white-space: nowrap
    text-overflow: ellipsis

  .artist
    padding-top: 0.2em
    overflow: hidden
    white-space: nowrap
    text-overflow: ellipsis

  .source
    visibility: hidden

  .audio-state:hover div
    display: block

  .wrapper
    position: absolute
    width: 100%
    top: action-bar-height
    bottom: 0

  .qorder
    width: 100%
    display: none

    position: absolute
    left: 0
    top: 1.8em
    font-size: 1em
    color: #CCC
    text-align: center
    background-color: white

.queue ul
  margin: 0
  padding: 0
  list-style: none

.audio-state
  position: absolute
  top: 0
  right: 0
  width: audio-control-size
  height: audio-control-size
  top: 50%
  margin-top: - (@height / 2)
  text-align: center
  transition: opacity 0.1s linear
  cursor: pointer
  margin-right: 15px
  background-color: white
  color: #DDD

.audio-state > div
  position: absolute
  top: 0
  width: 100%
  line-height: audio-control-size
  text-align: center
  font-size: 3em

.audio-state > div:before
  line-height: audio-control-size + 3px

.qorder-separator-wrapper
  position: absolute
  left: 0
  top: 0
  width: 30px
  height: 100%
  padding: 0 5px
  cursor: pointer

.qorder-separator-line
  display: none
  position: absolute
  top: 0
  width: 4px
  height: 100%
  left: 50%
  margin-left: - (@width / 2)
  background-color: #E7E7E7
  transition: background-color 0.1s linear

.queue.active
  right: margin

.queue-item
  position: absolute
  top: 100%
  width: 100%
  font-size: 1em
  transition: top 0.2s ease-out, background-color 0.1s
  z-index: 100

.queue-item:last-child
  z-index: 0

.queue-item:hover
  background-color: white
  color: #333

  .square
    background-color: #555 !important

  .audio-state
    color: white
    background-color: #333

  .qorder
    color: #555 !important
    background-color: #F6F6F6

  .qorder-separator-line
    background-color: #555

.queue-item.current
  background-color: white

  .audio-state
    background-color: accent-color
    color: white

.queue-item:after
  position: absolute
  content: ''
  left: 0
  top: 0
  width: 0
  height: 100%
  background-color: accent-color
  transition: width 0.2s ease-out

.queue-item.current:after
  width: 5px

.queue-item.active
  background-color: accent-color

.audio-item
  width: 100%
  padding: 1.7em (audio-control-size * 1.8) 1.7em 3em
  transition: right 0.2s ease-in
  transform: translateY(0%)

.show-menu
  right: 100px

.queue .drag
  user-select: none
  transition: background-color 0.1s linear
  background-color: accent-color
  color: white
  border-bottom: none

  .qorder-separator-line
    display: none

  .qorder
    display: none
    color: #FFF

  .artist
    color: #FFF

  .square
    background-color: #FFF !important

  .audio-state
    background-color: accent-color
    color: white

.queue .dropzone
  background-color: #EEF1F3

.queue .dropzone:after
  display: none

.dropzone > *
  visibility: hidden

#queue-list
  height: 100%

.queue .actions
  position: relative
  width: 100%
  height: action-bar-height
  background-color: #555

.queue .actions .audio-actions div
  visibility: visible
  background-color: #777
  color: white

.queue .actions .audio-actions div:hover
  background-color: accent-color
  color: white

@media screen and (max-width: 600px)
  .queue.active
    width: 100%
    right: 0 !important
    left: 0 !important
